{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/images/spaceInvaders/invader.png","webpack:///./assets/images/spaceInvaders/spaceship.png","webpack:///./assets/js/spaceInvaders.js"],"names":["canvas","document","querySelector","scoreEl","c","getContext","width","height","Player","_this","_classCallCheck","velocity","x","y","rotation","opacity","image","Image","src","spaceship","onload","scale","position","_createClass","key","value","draw","save","globalAlpha","translate","player","rotate","drawImage","restore","update","Projectile","_ref","radius","beginPath","arc","Math","PI","fillStyle","fill","closePath","Particle","_ref2","color","fades","opcity","InvaderProjectile","_ref3","fillRect","Invader","_ref4","_this2","inv","_ref5","shoot","invaderProjectile","push","Grid","invaders","columns","floor","random","rows","Score","_ref6","font","textAlign","fillText","Bomb","_ref7","radiusUpdate","opacityUpdate","explode","PowerUp","_ref8","hit","projectiles","_ref9","grids","invaderProjectiles","scores","particles","bombs","powerUps","keys","a","pressed","d","space","frame","randomInterval","game","over","active","score","i","createParticles","_ref10","object","collisionCheckCircleRect","circle","rect","distx","abs","disty","hypot","animate","requestAnimationFrame","forEach","particle","setTimeout","splice","powerUp","projectile","bomb","index","grid","gridIndex","length","invader","invaderFound","find","invader2","bombFound","bomb2","innerHTML","j","projectileFound","projectile2","firstInvader","lastInvader","speed","addEventListener","_ref11","_ref12"],"mappings":"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","file":"./js/spaceInvaders.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/spaceInvaders.js\");\n","export default __webpack_public_path__ + \"4793e7f635a6f442db1aefdfa44b9f2b.png\";","export default __webpack_public_path__ + \"52a211ddafab2140bf3ab40d76be1e79.png\";","import spaceship from '../images/spaceInvaders/spaceship.png'\nimport inv from '../images/spaceInvaders/invader.png'\n\nconst canvas = document.querySelector('canvas')\nconst scoreEl = document.querySelector('#scoreEl')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nclass Player {\n  constructor() {\n    this.velocity = {\n      x: 0,\n      y: 0,\n    }\n\n    this.rotation = 0\n    this.opacity = 1\n\n    const image = new Image()\n    image.src = spaceship\n    image.onload = () => {\n      const scale = 0.15\n      this.image = image\n      this.width = image.width * scale\n      this.height = image.height * scale\n      this.position = {\n        x: canvas.width / 2 - this.width / 2,\n        y: canvas.height - this.height - 20,\n      }\n    }\n  }\n\n  draw() {\n    // c.fillStyle = 'red'\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height)\n    c.save()\n    c.globalAlpha = this.opacity\n    c.translate(\n      player.position.x + player.width / 2,\n      player.position.y + player.height / 2\n    )\n    c.rotate(this.rotation)\n    c.translate(\n      -player.position.x - player.width / 2,\n      -player.position.y - player.height / 2\n    )\n    c.drawImage(\n      this.image,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    )\n    c.restore()\n  }\n\n  update() {\n    if (this.image) {\n      this.draw()\n      this.position.x += this.velocity.x\n    }\n  }\n}\n\nclass Projectile {\n  constructor({ position, velocity }) {\n    this.position = position\n    this.velocity = velocity\n\n    this.radius = 3\n  }\n\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = 'red'\n    c.fill()\n    c.closePath()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Particle {\n  constructor({ position, velocity, radius, color, fades }) {\n    this.position = position\n    this.velocity = velocity\n\n    this.radius = radius\n    this.color = color\n\n    this.opcity = 1\n    this.fades = fades\n  }\n\n  draw() {\n    c.save()\n    c.globalAlpha = this.opcity\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = this.color\n    c.fill()\n    c.closePath()\n    c.restore()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n    if (this.fades) this.opcity -= 0.01\n  }\n}\n\nclass InvaderProjectile {\n  constructor({ position, velocity }) {\n    this.position = position\n    this.velocity = velocity\n\n    this.width = 3\n    this.height = 10\n  }\n\n  draw() {\n    c.fillStyle = 'white'\n    c.fillRect(this.position.x, this.position.y, this.width, this.height)\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Invader {\n  constructor({ position }) {\n    this.velocity = {\n      x: 0,\n      y: 0,\n    }\n\n    const image = new Image()\n    image.src = inv\n    image.onload = () => {\n      const scale = 1\n      this.image = image\n      this.width = image.width * scale\n      this.height = image.height * scale\n      this.position = {\n        x: position.x,\n        y: position.y,\n      }\n    }\n  }\n\n  draw() {\n    // c.fillStyle = 'red'\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height)\n    c.drawImage(\n      this.image,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    )\n  }\n\n  update({ velocity }) {\n    if (this.image) {\n      this.draw()\n      this.position.x += velocity.x\n      this.position.y += velocity.y\n    }\n  }\n\n  shoot(invaderProjectile) {\n    invaderProjectile.push(\n      new InvaderProjectile({\n        position: {\n          x: this.position.x + this.width / 2,\n          y: this.position.y + this.height,\n        },\n        velocity: {\n          x: 0,\n          y: 5,\n        },\n      })\n    )\n  }\n}\n\nclass Grid {\n  constructor() {\n    this.position = {\n      x: 0,\n      y: 0,\n    }\n    this.velocity = {\n      x: 2,\n      y: 0,\n    }\n    this.invaders = []\n\n    const columns = Math.floor(Math.random() * 10 + 2)\n    const rows = Math.floor(Math.random() * 5 + 2)\n\n    this.width = columns * 30\n\n    for (let x = 0; x < columns; x++) {\n      for (let y = 0; y < rows; y++) {\n        this.invaders.push(\n          new Invader({\n            position: {\n              x: x * 30,\n              y: y * 30,\n            },\n          })\n        )\n      }\n    }\n  }\n  update() {\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n    this.velocity.y = 0\n\n    if (this.position.x + this.width >= canvas.width || this.position.x <= 0) {\n      this.velocity.x = -this.velocity.x\n      this.velocity.y = 30\n    }\n  }\n}\n\nclass Score {\n  constructor({ position, velocity }) {\n    this.position = position\n    this.velocity = velocity\n    this.opacity = 1\n  }\n  draw() {\n    c.save()\n    c.globalAlpha = this.opacity\n    c.font = '14px sans-serif'\n    c.fillStyle = 'white'\n    c.textAlign = 'center'\n    c.fillText('100', this.position.x, this.position.y)\n    c.restore()\n  }\n  update() {\n    this.draw()\n    this.opacity -= 0.02\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Bomb {\n  constructor({ position, velocity, color }) {\n    this.position = position\n    this.velocity = velocity\n    this.color = color\n\n    this.radius = 20\n    this.opacity = 1\n\n    this.radiusUpdate = 0\n    this.opacityUpdate = 0\n\n    this.explode = false\n  }\n\n  draw() {\n    c.save()\n    c.globalAlpha = this.opacity\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = this.color\n    c.fill()\n    c.closePath()\n    c.restore()\n  }\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n    this.radius += this.radiusUpdate\n    this.opacity += this.opacityUpdate\n\n    if (\n      this.position.x + this.radius >= canvas.width ||\n      this.position.x - this.radius <= 0\n    ) {\n      this.velocity.x = -this.velocity.x\n    }\n\n    if (\n      this.position.y + this.radius >= canvas.height ||\n      this.position.y - this.radius <= 0\n    ) {\n      this.velocity.y = -this.velocity.y\n    }\n  }\n}\n\nclass PowerUp {\n  constructor({ position, velocity, color }) {\n    this.position = position\n    this.velocity = velocity\n    this.color = color\n\n    this.radius = 10\n\n    this.hit = false\n    this.opacity = 1\n  }\n\n  draw() {\n    c.save()\n    c.globalAlpha = this.opacity\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = this.color\n    c.fill()\n    c.closePath()\n    c.restore()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n    if (this.hit) {\n      projectiles.push(\n        new Projectile({\n          position: {\n            x: player.position.x + player.width / 2,\n            y: player.position.y,\n          },\n          velocity: { x: 0, y: -15 },\n        })\n      )\n    }\n  }\n\n  shoot({ hit }) {\n    this.hit = hit\n  }\n}\n\nconst player = new Player()\nconst projectiles = []\nconst grids = []\nconst invaderProjectiles = []\nconst scores = []\nconst particles = []\nconst bombs = []\nconst powerUps = []\n\nconst keys = {\n  a: {\n    pressed: false,\n  },\n  d: {\n    pressed: false,\n  },\n  space: {\n    pressed: false,\n  },\n}\n\nlet frame = 0\nlet randomInterval = Math.floor(Math.random() * 500) + 500\nlet game = {\n  over: false,\n  active: true,\n}\nlet score = 0\n\nfor (let i = 0; i < 100; i++) {\n  particles.push(\n    new Particle({\n      position: {\n        x: Math.random() * canvas.width,\n        y: Math.random() * canvas.height,\n      },\n      velocity: {\n        x: 0,\n        y: 0.3,\n      },\n      radius: Math.random() * 3,\n      color: 'white',\n    })\n  )\n}\n\nfunction createParticles({ object, color, fades }) {\n  for (let i = 0; i < 15; i++) {\n    particles.push(\n      new Particle({\n        position: {\n          x: object.position.x + object.width / 2,\n          y: object.position.y + object.height / 2,\n        },\n        velocity: {\n          x: (Math.random() - 0.5) * 2,\n          y: (Math.random() - 0.5) * 2,\n        },\n        radius: Math.random() * 3,\n        color: color || '#baa0de',\n        fades: fades,\n      })\n    )\n  }\n}\n\nfunction collisionCheckCircleRect(circle, rect) {\n  var distx = Math.abs(circle.position.x - rect.position.x)\n  var disty = Math.abs(circle.position.y - rect.position.y)\n\n  if (distx > rect.width / 2 + circle.radius) {\n    return false\n  }\n  if (disty > rect.height / 2 + circle.radius) {\n    return false\n  }\n\n  if (distx <= rect.width / 2) {\n    return true\n  }\n  if (disty <= rect.height / 2) {\n    return true\n  }\n\n  var hypot =\n    (distx - rect.width / 2) * (distx - rect.width / 2) +\n    (disty - rect.height / 2) * (disty - rect.height / 2)\n\n  return hypot <= circle.radius * circle.radius\n}\n\nfunction animate() {\n  if (!game.active) return\n  requestAnimationFrame(animate)\n  c.fillStyle = 'black'\n  c.fillRect(0, 0, canvas.width, canvas.height)\n  player.update()\n  particles.forEach((particle, i) => {\n    if (particle.position.y - particle.radius >= canvas.height) {\n      particle.position.x = Math.random() * canvas.width\n      particle.position.y = particle.radius\n    }\n\n    if (particle.opcity <= 0) {\n      setTimeout(() => {\n        particles.splice(i, 1)\n      }, 0)\n    } else particle.update()\n  })\n  scores.forEach((score, i) => {\n    if (score.opacity <= 0) {\n      setTimeout(() => {\n        scores.splice(i, 1)\n      }, 0)\n    } else score.update()\n  })\n  powerUps.forEach((powerUp, i) => {\n    if (powerUp.position.x >= canvas.width && powerUp.hit == false) {\n      setTimeout(() => {\n        powerUps.splice(i, 1)\n      }, 0)\n    } else {\n      if (frame % 20 === 0) {\n        powerUp.color = 'rgb(255,255,100)'\n      } else if (frame % 20 === 10) {\n        powerUp.color = 'yelow'\n      }\n      powerUp.update()\n    }\n\n    projectiles.forEach((projectile, i) => {\n      if (\n        projectile.position.y - projectile.radius <=\n          powerUp.position.y + powerUp.radius &&\n        projectile.position.x + projectile.radius >=\n          powerUp.position.x - powerUp.radius &&\n        projectile.position.x - projectile.radius <=\n          powerUp.position.x + powerUp.radius &&\n        projectile.position.y + projectile.radius >=\n          powerUp.position.y - powerUp.radius\n      ) {\n        powerUp.shoot({ hit: true })\n        powerUp.opacity = 0\n        powerUp.update()\n        setTimeout(() => {\n          powerUp.shoot({ hit: false })\n          powerUps.splice(i, 1)\n        }, 2000)\n        projectiles.splice(i, 1)\n      }\n    })\n  })\n  bombs.forEach((bomb, i) => {\n    if (bomb.opacity <= 0) {\n      setTimeout(() => {\n        bombs.splice(i, 1)\n      }, 0)\n    } else {\n      if (frame % 20 === 0) {\n        bomb.color = 'rgb(255,100,100)'\n      } else if (frame % 20 === 10) {\n        bomb.color = 'red'\n      }\n      bomb.update()\n    }\n    projectiles.forEach((projectile, i) => {\n      if (\n        projectile.position.y - projectile.radius <=\n          bomb.position.y + bomb.radius &&\n        projectile.position.x + projectile.radius >=\n          bomb.position.x - bomb.radius &&\n        projectile.position.x - projectile.radius <=\n          bomb.position.x + bomb.radius &&\n        projectile.position.y + projectile.radius >=\n          bomb.position.y - bomb.radius\n      ) {\n        bomb.radiusUpdate += 2\n        bomb.opacityUpdate -= 0.02\n        bomb.explode = true\n        projectiles.splice(i, 1)\n      }\n    })\n  })\n  invaderProjectiles.forEach((invaderProjectile, index) => {\n    if (\n      invaderProjectile.position.y + invaderProjectile.height >=\n      canvas.height\n    ) {\n      setTimeout(() => {\n        invaderProjectiles.splice(index, 1)\n      }, 0)\n    } else invaderProjectile.update()\n\n    if (\n      invaderProjectile.position.y + invaderProjectile.height >=\n        player.position.y &&\n      invaderProjectile.position.x + invaderProjectile.width >=\n        player.position.x &&\n      invaderProjectile.position.x <= player.position.x + player.width\n    ) {\n      setTimeout(() => {\n        invaderProjectiles.splice(index, 1)\n        player.opacity = 0\n        game.over = true\n      }, 0)\n      setTimeout(() => {\n        game.active = false\n      }, 2000)\n\n      createParticles({\n        object: player,\n        color: 'white',\n        fades: true,\n      })\n    }\n  })\n  projectiles.forEach((projectile, index) => {\n    if (projectile.position.y + projectile.radius <= 0) {\n      setTimeout(() => {\n        projectiles.splice(index, 1)\n      }, 0)\n    }\n    projectile.update()\n  })\n\n  grids.forEach((grid, gridIndex) => {\n    grid.update()\n\n    if (frame % 100 === 0 && grid.invaders.length > 0) {\n      grid.invaders[Math.floor(Math.random() * grid.invaders.length)].shoot(\n        invaderProjectiles\n      )\n    }\n\n    grid.invaders.forEach((invader, i) => {\n      invader.update({ velocity: grid.velocity })\n\n      // bomb hit enemy\n      bombs.forEach((bomb, i) => {\n        if (bomb.explode && collisionCheckCircleRect(bomb, invader)) {\n          setTimeout(() => {\n            const invaderFound = grid.invaders.find((invader2) => {\n              return invader2 === invader\n            })\n            const bombFound = bombs.find((bomb2) => bomb2 === bomb)\n\n            //remove invader\n            if (invaderFound && bombFound) {\n              score += 50\n              scoreEl.innerHTML = score\n\n              scores.push(\n                new Score({\n                  position: {\n                    x: invader.position.x + invader.width / 2,\n                    y: invader.position.y + invader.height / 2,\n                  },\n                  velocity: {\n                    x: 0,\n                    y: -0.05,\n                  },\n                })\n              )\n\n              createParticles({\n                object: invader,\n                fades: true,\n              })\n\n              grid.invaders.splice(i, 1)\n            }\n          }, 0)\n        }\n      })\n\n      // projectile hit enemy\n      projectiles.forEach((projectile, j) => {\n        if (\n          projectile.position.y - projectile.radius <=\n            invader.position.y + invader.height &&\n          projectile.position.x + projectile.radius >= invader.position.x &&\n          projectile.position.x - projectile.radius <=\n            invader.position.x + invader.width &&\n          projectile.position.y + projectile.radius >= invader.position.y\n        ) {\n          setTimeout(() => {\n            const invaderFound = grid.invaders.find((invader2) => {\n              return invader2 === invader\n            })\n            const projectileFound = projectiles.find(\n              (projectile2) => projectile2 === projectile\n            )\n\n            //remove invader\n            if (invaderFound && projectileFound) {\n              score += 100\n              scoreEl.innerHTML = score\n\n              scores.push(\n                new Score({\n                  position: {\n                    x: invader.position.x + invader.width / 2,\n                    y: invader.position.y + invader.height / 2,\n                  },\n                  velocity: {\n                    x: 0,\n                    y: -0.05,\n                  },\n                })\n              )\n\n              createParticles({\n                object: invader,\n                fades: true,\n              })\n\n              grid.invaders.splice(i, 1)\n              projectiles.splice(j, 1)\n\n              if (grid.invaders.length > 0) {\n                const firstInvader = grid.invaders[0]\n                const lastInvader = grid.invaders[grid.invaders.length - 1]\n\n                grid.width =\n                  lastInvader.position.x -\n                  firstInvader.position.x +\n                  lastInvader.width\n                grid.position.x = firstInvader.position.x\n              } else {\n                grids.splice(gridIndex, 1)\n              }\n            }\n          }, 0)\n        }\n      })\n    })\n  })\n\n  if (keys.a.pressed && player.position.x >= 0) {\n    player.velocity.x = -7\n    player.rotation = -0.15\n  } else if (\n    keys.d.pressed &&\n    player.position.x + player.width <= canvas.width\n  ) {\n    player.velocity.x = 7\n    player.rotation = 0.15\n  } else {\n    player.velocity.x = 0\n    player.rotation = 0\n  }\n\n  if (keys.space.pressed) {\n    projectiles.push(\n      new Projectile({\n        position: {\n          x: player.position.x + player.width / 2,\n          y: player.position.y,\n        },\n        velocity: { x: 0, y: -15 },\n      })\n    )\n  }\n\n  if (frame % (randomInterval / 2) === 0) {\n    const speed = (Math.random() - 0.5) * 8 + 2\n    bombs.push(\n      new Bomb({\n        position: {\n          x: (Math.random() + 0.05) * canvas.width - 20,\n          y: (Math.random() + 0.05) * canvas.height - 20,\n        },\n        velocity: {\n          x: speed,\n          y: speed,\n        },\n        color: 'red',\n      })\n    )\n  }\n\n  if (frame % (randomInterval / 3) === 0) {\n    powerUps.push(\n      new PowerUp({\n        position: {\n          x: 0,\n          y: Math.abs(Math.random() - 0.5) * canvas.height,\n        },\n        velocity: {\n          x: 2,\n          y: 0,\n        },\n      })\n    )\n  }\n\n  if (frame % randomInterval === 0) {\n    grids.push(new Grid())\n    randomInterval = Math.floor(Math.random() * 500) + 500\n  }\n\n  frame++\n}\n\nanimate()\n\naddEventListener('keydown', ({ key }) => {\n  if (game.over) return\n\n  switch (key) {\n    case 'a':\n      keys.a.pressed = true\n      break\n    case 'd':\n      keys.d.pressed = true\n      break\n    case ' ':\n      projectiles.push(\n        new Projectile({\n          position: {\n            x: player.position.x + player.width / 2,\n            y: player.position.y,\n          },\n          velocity: { x: 0, y: -15 },\n        })\n      )\n      //   keys.space.pressed = true\n      break\n  }\n})\n\naddEventListener('keyup', ({ key }) => {\n  switch (key) {\n    case 'a':\n      keys.a.pressed = false\n      break\n    case 'd':\n      keys.d.pressed = false\n      break\n    case ' ':\n      //   keys.space.pressed = false\n      break\n  }\n})\n"],"sourceRoot":""}