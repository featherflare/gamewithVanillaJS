{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/images/pacman/block.png","webpack:///./assets/images/pacman/capBottom.png","webpack:///./assets/images/pacman/capLeft.png","webpack:///./assets/images/pacman/capRight.png","webpack:///./assets/images/pacman/capTop.png","webpack:///./assets/images/pacman/pipeConnectorBottom.png","webpack:///./assets/images/pacman/pipeConnectorLeft.png","webpack:///./assets/images/pacman/pipeConnectorRight.png","webpack:///./assets/images/pacman/pipeConnectorTop.png","webpack:///./assets/images/pacman/pipeCorner1.png","webpack:///./assets/images/pacman/pipeCorner2.png","webpack:///./assets/images/pacman/pipeCorner3.png","webpack:///./assets/images/pacman/pipeCorner4.png","webpack:///./assets/images/pacman/pipeCross.png","webpack:///./assets/images/pacman/pipeHorizontal.png","webpack:///./assets/images/pacman/pipeVertical.png","webpack:///./assets/js/pacman.js"],"names":["canvas","document","querySelector","c","getContext","scoreEl","getElementById","liveEl","screenPauseEl","textEl","btnEl","restartEl","resumeEl","newEl","width","height","Boundary","_ref","position","image","_classCallCheck","_createClass","key","value","draw","drawImage","x","y","_defineProperty","Player","_ref2","velocity","radius","radians","openRate","rotation","save","translate","rotate","Math","PI","beginPath","arc","lineTo","fillStyle","fill","closePath","restore","update","Ghost","_ref3","_ref3$color","color","prevCollisions","speed","scared","expried","Pellet","_ref4","PowerUp","_ref5","Score","_ref6","score","opacity","globalAlpha","font","textAlign","fillText","pellets","boundaries","powerUps","scores","ghosts","player","keys","w","pressed","a","s","d","status","isPause","isOver","lastKey","live","plusScore","level","map","createImage","src","Image","generateMap","console","log","forEach","row","i","symbol","j","push","pipeHorizontal","pipeVertical","pipeCorner1","pipeCorner2","pipeCorner3","pipeCorner4","pipeConnectorBottom","pipeConnectorRight","pipeConnectorTop","pipeConnectorLeft","block","capLeft","capRight","capTop","capBottom","pipeCross","pop","circleCollidesWithRectangle","_ref7","circle","rectangle","padding","pipeTeleport","_ref8","object","positionY","frame","animationId","animate","style","display","innerHTML","requestAnimationFrame","clearRect","length","boundary","_objectSpread","ghost","hypot","splice","cancelAnimationFrame","powerUp","setTimeout","pellet","concat","collisions","includes","JSON","stringify","pathways","filter","collision","direction","floor","random","addEventListener","_ref9","_ref10"],"mappings":"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CH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,EACD,CACE,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EA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","file":"./js/pacman.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/pacman.js\");\n","export default __webpack_public_path__ + \"837ce00cf5fe953590b8faa0c5f463ed.png\";","export default __webpack_public_path__ + \"475eced911482f3b456f605843f9b1e9.png\";","export default __webpack_public_path__ + \"0844a08110274effeedcb4269305bcbb.png\";","export default __webpack_public_path__ + \"64655c1841eabd3730bb6fffb7727c75.png\";","export default __webpack_public_path__ + \"8d7dc706c68dd179dee57e553c0a48d3.png\";","export default __webpack_public_path__ + \"5759f41ddbf69dbd4cd3f2120ae60ff4.png\";","export default __webpack_public_path__ + \"a13dc575c4192d98edb17b696c2d62bd.png\";","export default __webpack_public_path__ + \"4af5644112c21ada65f912445451fbd8.png\";","export default __webpack_public_path__ + \"eb2089e1044a6e28e126d658787c901b.png\";","export default __webpack_public_path__ + \"ecb073ccdcb62c4b00d1c2267c7dd39e.png\";","export default __webpack_public_path__ + \"04c8bbf54d28ea758ba42592ddd115e7.png\";","export default __webpack_public_path__ + \"c4b88e63e1ee520fcfad406cb54a2f40.png\";","export default __webpack_public_path__ + \"6a13d68e60846307cd891a4ca77faada.png\";","export default __webpack_public_path__ + \"f9b0276f6ca5131cfefc0d69d4d61258.png\";","export default __webpack_public_path__ + \"14ec8a40ca6a166f28d81ab681aa38d5.png\";","export default __webpack_public_path__ + \"f70e7e7e2120b81f445f0ecf0725ab32.png\";","import pipeHorizontal from '../images/pacman/pipeHorizontal.png'\nimport pipeVertical from '../images/pacman/pipeVertical.png'\nimport pipeCorner1 from '../images/pacman/pipeCorner1.png'\nimport pipeCorner2 from '../images/pacman/pipeCorner2.png'\nimport pipeCorner3 from '../images/pacman/pipeCorner3.png'\nimport pipeCorner4 from '../images/pacman/pipeCorner4.png'\nimport pipeConnectorTop from '../images/pacman/pipeConnectorTop.png'\nimport pipeConnectorLeft from '../images/pacman/pipeConnectorLeft.png'\nimport pipeConnectorRight from '../images/pacman/pipeConnectorRight.png'\nimport pipeConnectorBottom from '../images/pacman/pipeConnectorBottom.png'\nimport capLeft from '../images/pacman/capLeft.png'\nimport capRight from '../images/pacman/capRight.png'\nimport capTop from '../images/pacman/capTop.png'\nimport capBottom from '../images/pacman/capBottom.png'\nimport pipeCross from '../images/pacman/pipeCross.png'\nimport block from '../images/pacman/block.png'\n\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\nconst scoreEl = document.getElementById('scoreEl')\nconst liveEl = document.getElementById('liveEl')\nconst screenPauseEl = document.getElementById('screenPauseEl')\nconst textEl = document.getElementById('textEl')\nconst btnEl = document.getElementById('btnEl')\nconst restartEl = document.getElementById('restartEl')\nconst resumeEl = document.getElementById('resumeEl')\nconst newEl = document.getElementById('newEl')\n\ncanvas.width = 19 * 40\ncanvas.height = 20 * 40\n\nclass Boundary {\n  static width = 40\n  static height = 40\n  constructor({ position, image }) {\n    this.position = position\n    this.width = 40\n    this.height = 40\n    this.image = image\n  }\n\n  draw() {\n    // c.fillStyle = 'blue'\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height)\n    c.drawImage(\n      this.image,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    )\n  }\n}\n\nclass Player {\n  constructor({ position, velocity }) {\n    this.position = position\n    this.velocity = velocity\n    this.radius = 15\n    this.radians = 0.75\n    this.openRate = 0.06\n    this.rotation = 0\n  }\n  draw() {\n    c.save()\n    c.translate(this.position.x, this.position.y)\n    c.rotate(Math.PI * this.rotation)\n    c.translate(-this.position.x, -this.position.y)\n    c.beginPath()\n    c.arc(\n      this.position.x,\n      this.position.y,\n      this.radius,\n      this.radians,\n      Math.PI * 2 - this.radians\n    )\n    c.lineTo(this.position.x, this.position.y)\n    c.fillStyle = 'yellow'\n    c.fill()\n    c.closePath()\n    c.restore()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n    if (this.radians < 0 || this.radians > 0.75) {\n      this.openRate = -this.openRate\n    }\n    this.radians += this.openRate\n  }\n}\n\nclass Ghost {\n  static speed = 2\n  constructor({ position, velocity, color = 'red' }) {\n    this.position = position\n    this.velocity = velocity\n    this.radius = 15\n    this.color = color\n    this.prevCollisions = []\n    this.speed = 2\n    this.scared = false\n    this.expried = false\n  }\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = this.scared\n      ? this.expried\n        ? this.color\n        : 'blue'\n      : this.color\n    c.fill()\n    c.closePath()\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nclass Pellet {\n  constructor({ position }) {\n    this.position = position\n    this.radius = 3\n  }\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = 'white'\n    c.fill()\n    c.closePath()\n  }\n}\n\nclass PowerUp {\n  constructor({ position }) {\n    this.position = position\n    this.radius = 8\n  }\n  draw() {\n    c.beginPath()\n    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)\n    c.fillStyle = 'white'\n    c.fill()\n    c.closePath()\n  }\n}\n\nclass Score {\n  constructor({ position, velocity, score }) {\n    this.position = position\n    this.velocity = velocity\n    this.opacity = 1\n    this.score = score\n  }\n  draw() {\n    c.save()\n    c.globalAlpha = this.opacity\n    c.font = '14px sans-serif'\n    c.fillStyle = 'white'\n    c.textAlign = 'center'\n    c.fillText(this.score, this.position.x, this.position.y)\n    c.restore()\n  }\n  update() {\n    this.draw()\n    this.opacity -= 0.02\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n  }\n}\n\nconst pellets = []\nconst boundaries = []\nconst powerUps = []\nconst scores = []\nconst ghosts = []\nconst player = new Player({\n  position: {\n    x: Boundary.width + Boundary.width / 2,\n    y: Boundary.height + Boundary.height / 2,\n  },\n  velocity: {\n    x: 0,\n    y: 0,\n  },\n})\n\nconst keys = {\n  w: {\n    pressed: false,\n  },\n  a: {\n    pressed: false,\n  },\n  s: {\n    pressed: false,\n  },\n  d: {\n    pressed: false,\n  },\n}\n\nconst status = {\n  isPause: false,\n  isOver: false,\n}\n\nlet lastKey = ''\nlet score = 0\nlet live = 3\nlet plusScore = 10\nlet level = 0\n\nconst map = [\n  [\n    '1',\n    '-',\n    '-',\n    '-',\n    '-',\n    '-',\n    '-',\n    '5',\n    '-',\n    '-',\n    '-',\n    '5',\n    '-',\n    '-',\n    '-',\n    '-',\n    '-',\n    '-',\n    '2',\n  ],\n  [\n    '|',\n    ' ',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '[',\n    ']',\n    '.',\n    '^',\n    '.',\n    '_',\n    '.',\n    '^',\n    '.',\n    '_',\n    '.',\n    '^',\n    '.',\n    '[',\n    ']',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '.',\n    'p',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    'p',\n    '.',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '1',\n    ']',\n    '.',\n    '4',\n    '-',\n    ']',\n    '.',\n    '|',\n    '.',\n    '[',\n    '-',\n    '3',\n    '.',\n    '[',\n    '2',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '|',\n  ],\n  [\n    '_',\n    '.',\n    '_',\n    '.',\n    '[',\n    ']',\n    '.',\n    '[',\n    '-',\n    '7',\n    '-',\n    ']',\n    '.',\n    '[',\n    ']',\n    '.',\n    '_',\n    '.',\n    '_',\n  ],\n  [\n    ' ',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    ' ',\n  ],\n  [\n    '^',\n    '.',\n    '[',\n    ']',\n    '.',\n    '^',\n    '.',\n    '1',\n    ']',\n    ' ',\n    '[',\n    '2',\n    '.',\n    '^',\n    '.',\n    '[',\n    ']',\n    '.',\n    '^',\n  ],\n  [\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '|',\n    ' ',\n    ' ',\n    ' ',\n    '|',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '[',\n    '2',\n    '.',\n    '|',\n    '.',\n    '6',\n    '-',\n    '-',\n    '-',\n    '8',\n    '.',\n    '|',\n    '.',\n    '1',\n    ']',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '.',\n    '|',\n    '.',\n    '_',\n    '.',\n    '_',\n    '.',\n    '.',\n    '.',\n    '_',\n    '.',\n    '_',\n    '.',\n    '|',\n    '.',\n    '.',\n    '|',\n  ],\n  [\n    '4',\n    ']',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '^',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '[',\n    '3',\n  ],\n  [\n    ' ',\n    '.',\n    '.',\n    '|',\n    '.',\n    '1',\n    '-',\n    ']',\n    '.',\n    '_',\n    '.',\n    '[',\n    '-',\n    '2',\n    '.',\n    '|',\n    '.',\n    '.',\n    ' ',\n  ],\n  [\n    '^',\n    '.',\n    '[',\n    '3',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '4',\n    ']',\n    '.',\n    '^',\n  ],\n  [\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n    '.',\n    '^',\n    '.',\n    '^',\n    '.',\n    '^',\n    '.',\n    '|',\n    '.',\n    '.',\n    '.',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '^',\n    '.',\n    '[',\n    '3',\n    '.',\n    '|',\n    '.',\n    '_',\n    '.',\n    '|',\n    '.',\n    '4',\n    ']',\n    '.',\n    '^',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '_',\n    'p',\n    '.',\n    '.',\n    '.',\n    '_',\n    '.',\n    '.',\n    '.',\n    '_',\n    '.',\n    '.',\n    '.',\n    'p',\n    '_',\n    '.',\n    '|',\n  ],\n  [\n    '|',\n    '.',\n    '.',\n    '.',\n    '1',\n    '2',\n    '.',\n    '.',\n    '.',\n    '^',\n    '.',\n    '.',\n    '.',\n    '1',\n    '2',\n    '.',\n    '.',\n    '.',\n    '|',\n  ],\n  [\n    '4',\n    '-',\n    '-',\n    '-',\n    '7',\n    '7',\n    '-',\n    '-',\n    '-',\n    '7',\n    '-',\n    '-',\n    '-',\n    '7',\n    '7',\n    '-',\n    '-',\n    '-',\n    '3',\n  ],\n]\n\nfunction createImage(src) {\n  const image = new Image()\n  image.src = src\n  return image\n}\n\nfunction generateMap() {\n  if (level < 4) {\n    level++\n  }\n\n  console.log(level)\n\n  map.forEach((row, i) => {\n    row.forEach((symbol, j) => {\n      switch (symbol) {\n        case '-':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeHorizontal),\n            })\n          )\n          break\n        case '|':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeVertical),\n            })\n          )\n          break\n        case '1':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeCorner1),\n            })\n          )\n          break\n        case '2':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeCorner2),\n            })\n          )\n          break\n        case '3':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeCorner3),\n            })\n          )\n          break\n        case '4':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeCorner4),\n            })\n          )\n          break\n        case '5':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeConnectorBottom),\n            })\n          )\n          break\n        case '6':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeConnectorRight),\n            })\n          )\n          break\n        case '7':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeConnectorTop),\n            })\n          )\n          break\n        case '8':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeConnectorLeft),\n            })\n          )\n          break\n        case 'b':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(block),\n            })\n          )\n          break\n        case '[':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(capLeft),\n            })\n          )\n          break\n        case ']':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(capRight),\n            })\n          )\n          break\n        case '^':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(capTop),\n            })\n          )\n          break\n        case '_':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(capBottom),\n            })\n          )\n          break\n        case '+':\n          boundaries.push(\n            new Boundary({\n              position: {\n                x: Boundary.width * j,\n                y: Boundary.height * i,\n              },\n              image: createImage(pipeCross),\n            })\n          )\n          break\n        case '.':\n          pellets.push(\n            new Pellet({\n              position: {\n                x: Boundary.width * j + Boundary.width / 2,\n                y: Boundary.height * i + Boundary.height / 2,\n              },\n            })\n          )\n          break\n\n        case 'p':\n          powerUps.push(\n            new PowerUp({\n              position: {\n                x: Boundary.width * j + Boundary.width / 2,\n                y: Boundary.height * i + Boundary.height / 2,\n              },\n            })\n          )\n          break\n      }\n    })\n  })\n  const color = ['red', 'pink', 'lightblue', 'orange']\n\n  for (var i = 0; i < level; i++) {\n    ghosts.pop()\n  }\n\n  console.log(ghosts)\n\n  for (var i = 0; i < level; i++) {\n    ghosts.push(\n      new Ghost({\n        position: {\n          x: Boundary.width * 9 + Boundary.width / 2,\n          y: Boundary.height * 9 + Boundary.height / 2,\n        },\n        velocity: {\n          x: 0,\n          y: -Ghost.speed,\n        },\n        color: color[i],\n      })\n    )\n  }\n}\n\ngenerateMap()\n\nfunction circleCollidesWithRectangle({ circle, rectangle }) {\n  const padding = Boundary.width / 2 - circle.radius - 1\n  return (\n    circle.position.y - circle.radius + circle.velocity.y <=\n      rectangle.position.y + rectangle.height + padding &&\n    circle.position.x + circle.radius + circle.velocity.x >=\n      rectangle.position.x - padding &&\n    circle.position.y + circle.radius + circle.velocity.y >=\n      rectangle.position.y - padding &&\n    circle.position.x - circle.radius + circle.velocity.x <=\n      rectangle.position.x + rectangle.width + padding\n  )\n}\n\nfunction pipeTeleport({ object }) {\n  const positionY = object.position.y\n  object.position.y = positionY\n  if (object.position.x - object.radius <= 10) {\n    object.velocity.y = 0\n    object.position.x = 21 * 40 - object.radius - 40\n  } else if (object.position.x + object.radius >= 21 * 40 - 10) {\n    object.velocity.y = 0\n    object.position.x = object.radius + 40\n  }\n}\n\nlet frame = 0\nlet animationId\nfunction animate() {\n  if (status.isPause || status.isOver) {\n    screenPauseEl.style.display = 'block'\n    if (status.isPause && !status.isOver) {\n      newEl.style.display = 'none'\n      textEl.innerHTML = 'Pause Game'\n    }\n    if (!status.isPause && status.isOver) {\n      resumeEl.style.display = 'none'\n      restartEl.style.display = 'none'\n      textEl.innerHTML = 'Game Over'\n    }\n    return\n  } else {\n    screenPauseEl.style.display = 'none'\n  }\n  animationId = requestAnimationFrame(animate)\n  c.clearRect(0, 0, canvas.width, canvas.height)\n\n  if (keys.w.pressed && lastKey === 'w') {\n    for (let i = 0; i < boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (\n        circleCollidesWithRectangle({\n          circle: { ...player, velocity: { x: 0, y: -5 } },\n          rectangle: boundary,\n        })\n      ) {\n        player.velocity.y = 0\n        break\n      } else {\n        player.velocity.y = -5\n      }\n    }\n  } else if (keys.a.pressed && lastKey === 'a') {\n    for (let i = 0; i < boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (\n        circleCollidesWithRectangle({\n          circle: { ...player, velocity: { x: -5, y: 0 } },\n          rectangle: boundary,\n        })\n      ) {\n        player.velocity.x = 0\n        break\n      } else {\n        player.velocity.x = -5\n      }\n    }\n  } else if (keys.s.pressed && lastKey === 's') {\n    for (let i = 0; i < boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (\n        circleCollidesWithRectangle({\n          circle: { ...player, velocity: { x: 0, y: 5 } },\n          rectangle: boundary,\n        })\n      ) {\n        player.velocity.y = 0\n        break\n      } else {\n        player.velocity.y = 5\n      }\n    }\n  } else if (keys.d.pressed && lastKey === 'd') {\n    for (let i = 0; i < boundaries.length; i++) {\n      const boundary = boundaries[i]\n      if (\n        circleCollidesWithRectangle({\n          circle: { ...player, velocity: { x: 5, y: 0 } },\n          rectangle: boundary,\n        })\n      ) {\n        player.velocity.x = 0\n        break\n      } else {\n        player.velocity.x = 5\n      }\n    }\n  }\n\n  // detect collision between ghost and player\n  for (let i = ghosts.length - 1; 0 <= i; i--) {\n    const ghost = ghosts[i]\n    //ghost touches player\n    if (\n      Math.hypot(\n        ghost.position.x - player.position.x,\n        ghost.position.y - player.position.y\n      ) <\n      ghost.radius + player.radius\n    ) {\n      if (ghost.scared) {\n        ghosts.splice(i, 1)\n        score += 500\n        scoreEl.innerHTML = score\n\n        scores.push(\n          new Score({\n            position: {\n              x: ghost.position.x,\n              y: ghost.position.y,\n            },\n            velocity: {\n              x: 0,\n              y: -0.05,\n            },\n            score: '500',\n          })\n        )\n      } else {\n        if (live > 0) {\n          live -= 1\n          liveEl.innerHTML = live\n          player.position.x = Boundary.width + Boundary.width / 2\n          player.position.y = Boundary.height + Boundary.height / 2\n          player.velocity.x = 0\n          player.velocity.y = 0\n        } else {\n          status.isOver = true\n          screenPauseEl.style.display = 'block'\n          resumeEl.style.display = 'none'\n          restartEl.style.display = 'none'\n          textEl.innerHTML = 'Game Over'\n          cancelAnimationFrame(animationId)\n        }\n      }\n    }\n  }\n\n  //win condition goes here\n  if (pellets.length === 0) {\n    generateMap()\n  }\n\n  // power up here\n  for (let i = powerUps.length - 1; 0 <= i; i--) {\n    const powerUp = powerUps[i]\n    powerUp.draw()\n\n    // player collides with power up\n    if (\n      Math.hypot(\n        powerUp.position.x - player.position.x,\n        powerUp.position.y - player.position.y\n      ) <\n      powerUp.radius + player.radius\n    ) {\n      powerUps.splice(i, 1)\n\n      // make ghosts scared\n      ghosts.forEach((ghost) => {\n        ghost.scared = true\n        plusScore = 50\n\n        setTimeout(() => {\n          ghost.expried = true\n        }, 2000)\n\n        const color = ghost.color\n        setTimeout(() => {\n          plusScore = 10\n          ghost.color = color\n          ghost.scared = false\n          ghost.expried = false\n        }, 3000)\n      })\n    }\n  }\n\n  // touch pellet here\n  for (let i = pellets.length - 1; 0 <= i; i--) {\n    const pellet = pellets[i]\n    pellet.draw()\n\n    if (\n      Math.hypot(\n        pellet.position.x - player.position.x,\n        pellet.position.y - player.position.y\n      ) <\n      pellet.radius + player.radius\n    ) {\n      pellets.splice(i, 1)\n      score += plusScore\n      scoreEl.innerHTML = score\n\n      scores.push(\n        new Score({\n          position: {\n            x: pellet.position.x,\n            y: pellet.position.y,\n          },\n          velocity: {\n            x: 0,\n            y: -0.05,\n          },\n          score: `${plusScore}`,\n        })\n      )\n    }\n  }\n\n  scores.forEach((score, i) => {\n    if (score.opacity <= 0) {\n      setTimeout(() => {\n        scores.splice(i, 1)\n      }, 0)\n    } else score.update()\n  })\n\n  boundaries.forEach((boundary) => {\n    boundary.draw()\n    if (circleCollidesWithRectangle({ circle: player, rectangle: boundary })) {\n      player.velocity.y = 0\n      player.velocity.x = 0\n    }\n  })\n\n  player.update()\n\n  ghosts.forEach((ghost) => {\n    if (ghost.expried) {\n      if (frame % 10 == 5) {\n        console.log('1')\n        ghost.color = 'blue'\n      } else if (frame % 10 == 0) {\n        console.log('2')\n        ghost.color = 'white'\n      }\n    }\n    ghost.update()\n\n    const collisions = []\n    boundaries.forEach((boundary) => {\n      if (\n        !collisions.includes('right') &&\n        circleCollidesWithRectangle({\n          circle: { ...ghost, velocity: { x: ghost.speed, y: 0 } },\n          rectangle: boundary,\n        })\n      ) {\n        collisions.push('right')\n      }\n\n      if (\n        !collisions.includes('left') &&\n        circleCollidesWithRectangle({\n          circle: { ...ghost, velocity: { x: -ghost.speed, y: 0 } },\n          rectangle: boundary,\n        })\n      ) {\n        collisions.push('left')\n      }\n\n      if (\n        !collisions.includes('up') &&\n        circleCollidesWithRectangle({\n          circle: { ...ghost, velocity: { x: 0, y: -ghost.speed } },\n          rectangle: boundary,\n        })\n      ) {\n        collisions.push('up')\n      }\n\n      if (\n        !collisions.includes('down') &&\n        circleCollidesWithRectangle({\n          circle: { ...ghost, velocity: { x: 0, y: ghost.speed } },\n          rectangle: boundary,\n        })\n      ) {\n        collisions.push('down')\n      }\n    })\n\n    if (collisions.length > ghost.prevCollisions.length)\n      ghost.prevCollisions = collisions\n    if (ghost.position.x - ghost.radius <= 5) {\n      ghost.prevCollisions = []\n      ghost.velocity.x = -5\n      ghost.position.x = 21 * 40 - ghost.radius - 40\n    } else if (ghost.position.x + ghost.radius >= 20 * 40 - 5) {\n      ghost.prevCollisions = []\n      ghost.velocity.x = 5\n      ghost.position.x = 0 + ghost.radius + 40\n    }\n\n    if (JSON.stringify(collisions) != JSON.stringify(ghost.prevCollisions)) {\n      if (ghost.velocity.x > 0) ghost.prevCollisions.push('right')\n      else if (ghost.velocity.x < 0) ghost.prevCollisions.push('left')\n      else if (ghost.velocity.y < 0) ghost.prevCollisions.push('up')\n      else if (ghost.velocity.y > 0) ghost.prevCollisions.push('down')\n\n      const pathways = ghost.prevCollisions.filter((collision) => {\n        return !collisions.includes(collision)\n      })\n\n      const direction = pathways[Math.floor(Math.random() * pathways.length)]\n\n      switch (direction) {\n        case 'down':\n          ghost.velocity.y = ghost.speed\n          ghost.velocity.x = 0\n          break\n        case 'up':\n          ghost.velocity.y = -ghost.speed\n          ghost.velocity.x = 0\n          break\n        case 'right':\n          ghost.velocity.y = 0\n          ghost.velocity.x = ghost.speed\n          break\n        case 'left':\n          ghost.velocity.y = 0\n          ghost.velocity.x = -ghost.speed\n          break\n      }\n\n      ghost.prevCollisions = []\n    }\n  })\n\n  if (player.velocity.x > 0) player.rotation = 0\n  else if (player.velocity.x < 0) player.rotation = 1\n  else if (player.velocity.y > 0) player.rotation = 0.5\n  else if (player.velocity.y < 0) player.rotation = 1.5\n  pipeTeleport({ object: player })\n  frame++\n} // end of animate()\n\nanimate()\n\naddEventListener('keydown', ({ key }) => {\n  switch (key) {\n    case 'w':\n      keys.w.pressed = true\n      lastKey = 'w'\n      break\n    case 'a':\n      keys.a.pressed = true\n      lastKey = 'a'\n      break\n    case 's':\n      keys.s.pressed = true\n      lastKey = 's'\n      break\n    case 'd':\n      keys.d.pressed = true\n      lastKey = 'd'\n      break\n    case ' ':\n      status.isPause = !status.isPause\n      if (!status.isPause) {\n        requestAnimationFrame(animate)\n      }\n      break\n  }\n})\n\naddEventListener('keyup', ({ key }) => {\n  switch (key) {\n    case 'w':\n      keys.w.pressed = false\n      break\n    case 'a':\n      keys.a.pressed = false\n      break\n    case 's':\n      keys.s.pressed = false\n      break\n    case ' ':\n      break\n  }\n})\n\nresumeEl.addEventListener('click', () => {\n  status.isPause = !status.isPause\n  requestAnimationFrame(animate)\n})\n\nrestartEl.addEventListener('click', () => {\n  status.isOver = false\n  status.isPause = false\n  player.velocity.x = 0\n  player.velocity.y = 0\n  player.position.x = Boundary.width + Boundary.width / 2\n  player.position.y = Boundary.height + Boundary.height / 2\n  player.rotation = 0\n  score = 0\n  level = 0\n  generateMap()\n  requestAnimationFrame(animate)\n})\n\nnewEl.addEventListener('click', () => {\n  status.isOver = false\n  status.isPause = false\n  player.velocity.x = 0\n  player.velocity.y = 0\n  player.position.x = Boundary.width + Boundary.width / 2\n  player.position.y = Boundary.height + Boundary.height / 2\n  player.rotation = 0\n  score = 0\n  level = 0\n  generateMap()\n  requestAnimationFrame(animate)\n})\n"],"sourceRoot":""}