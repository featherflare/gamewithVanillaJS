{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/images/multiroom/backgroundLevel1.png","webpack:///./assets/images/multiroom/backgroundLevel2.png","webpack:///./assets/images/multiroom/backgroundLevel3.png","webpack:///./assets/images/multiroom/doorOpen.png","webpack:///./assets/images/multiroom/king/enterDoor.png","webpack:///./assets/images/multiroom/king/idle.png","webpack:///./assets/images/multiroom/king/idleLeft.png","webpack:///./assets/images/multiroom/king/runLeft.png","webpack:///./assets/images/multiroom/king/runRight.png","webpack:///./assets/js/multiroom.js","webpack:///./assets/js/multiroom/CollisionBlock.js","webpack:///./assets/js/multiroom/Player.js","webpack:///./assets/js/multiroom/Sprite.js","webpack:///./assets/js/multiroom/data.js","webpack:///./assets/js/multiroom/eventListener.js","webpack:///./assets/js/multiroom/utils.js"],"names":["canvas","document","querySelector","c","getContext","width","height","parsedCollisions","collisionBlocks","background","doors","player","Player","imageSrc","idleRight","frameRate","animations","frameBuffer","loop","idleLeft","runRight","runLeft","enterDoor","onComplete","gsap","to","overlay","opacity","level","levels","init","switchSprite","preventInput","collisionsLevel1","parse2D","createObjectsFrom2D","currentAnimation","isActive","Sprite","position","x","y","level1","doorOpen","autoplay","collisionsLevel2","level2","collisionsLevel3","level3","animate","requestAnimationFrame","fillStyle","fillRect","draw","forEach","door","handleInput","keys","update","save","globalAlpha","restore","CollisionBlock","_ref","_classCallCheck","_createClass","key","value","_Sprite","_inherits","_super","_createSuper","_this","_ref$collisionBlocks","call","velocity","sides","bottom","gravity","updateHitbox","checkForHorizontalCollisions","applyGravity","checkForVerticalCollisions","d","pressed","lastDirection","a","name","image","currentFrame","hitbox","i","length","collisionBlock","offset","_ref$frameRate","_ref$frameBuffer","_ref$loop","_ref$autoplay","Image","onload","loaded","src","elapsedFrames","cropBox","drawImage","updateFrames","play","_this$currentAnimatio","w","addEventListener","_ref2","Array","prototype","rows","push","slice","objects","row","symbol"],"mappings":"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","file":"./js/multiroom.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/multiroom.js\");\n","export default __webpack_public_path__ + \"9a19cac509dd3548628394db8bbfbc86.png\";","export default __webpack_public_path__ + \"42d8b68bac4b6e9d8bdb7be5cf6815e3.png\";","export default __webpack_public_path__ + \"ddff85d44896f3f52bdec92bfa6c53b4.png\";","export default __webpack_public_path__ + \"8f2d01fc2a42da0b4988aea0e603a0ec.png\";","export default __webpack_public_path__ + \"14ed4761261adb70da6643a370d322c4.png\";","export default __webpack_public_path__ + \"06baa01b819edb80fb0b77202d6f7d71.png\";","export default __webpack_public_path__ + \"c9d10b00ac388a56815410fc44a8bd8f.png\";","export default __webpack_public_path__ + \"7164213b6b40ff25c4ffc21318c03af9.png\";","export default __webpack_public_path__ + \"c99cc96afd2f063c29734f3f2c906c8e.png\";","import { Player } from './multiroom/Player'\nimport { Sprite } from './multiroom/Sprite'\nimport { keys } from './multiroom/eventListener'\nimport level1 from '../images/multiroom/backgroundLevel1.png'\nimport level2 from '../images/multiroom/backgroundLevel2.png'\nimport level3 from '../images/multiroom/backgroundLevel3.png'\nimport doorOpen from '../images/multiroom/doorOpen.png'\nimport idleRight from '../images/multiroom/king/idle.png'\nimport idleLeft from '../images/multiroom/king/idleLeft.png'\nimport runRight from '../images/multiroom/king/runRight.png'\nimport runLeft from '../images/multiroom/king/runLeft.png'\nimport enterDoor from '../images/multiroom/king/enterDoor.png'\nimport {\n  collisionsLevel1,\n  collisionsLevel2,\n  collisionsLevel3,\n} from './multiroom/data'\nimport './multiroom/utils'\n\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nlet parsedCollisions\nlet collisionBlocks\nlet background\nexport let doors\n\nexport const player = new Player({\n  imageSrc: idleRight,\n  frameRate: 11,\n  animations: {\n    idleRight: {\n      frameRate: 11,\n      frameBuffer: 2,\n      loop: true,\n      imageSrc: idleRight,\n    },\n    idleLeft: {\n      frameRate: 11,\n      frameBuffer: 2,\n      loop: true,\n      imageSrc: idleLeft,\n    },\n    runRight: {\n      frameRate: 8,\n      frameBuffer: 4,\n      loop: true,\n      imageSrc: runRight,\n    },\n    runLeft: {\n      frameRate: 8,\n      frameBuffer: 4,\n      loop: true,\n      imageSrc: runLeft,\n    },\n    enterDoor: {\n      frameRate: 8,\n      frameBuffer: 4,\n      loop: false,\n      imageSrc: enterDoor,\n      onComplete: () => {\n        gsap.to(overlay, {\n          opacity: 1,\n          onComplete: () => {\n            level++\n\n            if (level === 4) level = 1\n            levels[level].init()\n            player.switchSprite('idleRight')\n            player.preventInput = false\n            gsap.to(overlay, {\n              opacity: 0,\n            })\n          },\n        })\n      },\n    },\n  },\n})\n\nlet level = 1\nlet levels = {\n  1: {\n    init: () => {\n      parsedCollisions = collisionsLevel1.parse2D()\n      collisionBlocks = parsedCollisions.createObjectsFrom2D()\n      player.collisionBlocks = collisionBlocks\n\n      if (player.currentAnimation) player.currentAnimation.isActive = false\n\n      background = new Sprite({\n        position: { x: 0, y: 0 },\n        imageSrc: level1,\n      })\n\n      doors = [\n        new Sprite({\n          position: { x: 767, y: 270 },\n          imageSrc: doorOpen,\n          frameRate: 5,\n          frameBuffer: 5,\n          loop: false,\n          autoplay: false,\n        }),\n      ]\n    },\n  },\n  2: {\n    init: () => {\n      parsedCollisions = collisionsLevel2.parse2D()\n      collisionBlocks = parsedCollisions.createObjectsFrom2D()\n      player.collisionBlocks = collisionBlocks\n      player.position.x = 96\n      player.position.y = 140\n\n      if (player.currentAnimation) player.currentAnimation.isActive = false\n\n      background = new Sprite({\n        position: { x: 0, y: 0 },\n        imageSrc: level2,\n      })\n\n      doors = [\n        new Sprite({\n          position: { x: 772, y: 336 },\n          imageSrc: doorOpen,\n          frameRate: 5,\n          frameBuffer: 5,\n          loop: false,\n          autoplay: false,\n        }),\n      ]\n    },\n  },\n  3: {\n    init: () => {\n      parsedCollisions = collisionsLevel3.parse2D()\n      collisionBlocks = parsedCollisions.createObjectsFrom2D()\n      player.collisionBlocks = collisionBlocks\n      player.position.x = 750\n      player.position.y = 230\n\n      if (player.currentAnimation) player.currentAnimation.isActive = false\n\n      background = new Sprite({\n        position: { x: 0, y: 0 },\n        imageSrc: level3,\n      })\n\n      doors = [\n        new Sprite({\n          position: { x: 175, y: 335 },\n          imageSrc: doorOpen,\n          frameRate: 5,\n          frameBuffer: 5,\n          loop: false,\n          autoplay: false,\n        }),\n      ]\n    },\n  },\n}\n\nconst overlay = {\n  opacity: 0,\n}\n\nfunction animate() {\n  requestAnimationFrame(animate)\n  c.fillStyle = 'black'\n  c.fillRect(0, 0, canvas.width, canvas.height)\n\n  background.draw()\n\n  // collisionBlocks.forEach((collisionBlock) => {\n  //   collisionBlock.draw()\n  // })\n\n  doors.forEach((door) => {\n    door.draw()\n  })\n\n  player.handleInput(keys)\n  player.draw()\n  player.update()\n\n  c.save()\n  c.globalAlpha = overlay.opacity\n  c.fillStyle = 'black'\n  c.fillRect(0, 0, canvas.width, canvas.height)\n  c.restore()\n}\n\nlevels[level].init()\nanimate()\n","const canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nexport class CollisionBlock {\n  constructor({ position }) {\n    this.position = position\n    this.width = 64\n    this.height = 64\n  }\n\n  draw() {\n    c.fillStyle = 'rgba(255,0,0,0.5)'\n    c.fillRect(this.position.x, this.position.y, this.width, this.height)\n  }\n}\n","import { Sprite } from './Sprite'\n\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nexport class Player extends Sprite {\n  constructor({ collisionBlocks = [], imageSrc, frameRate, animations, loop }) {\n    super({ imageSrc, frameRate, animations, loop })\n    this.position = {\n      x: 200,\n      y: 200,\n    }\n    this.velocity = {\n      x: 0,\n      y: 0,\n    }\n\n    this.sides = {\n      bottom: this.position.y + this.height,\n    }\n    this.gravity = 1\n    this.collisionBlocks = collisionBlocks\n  }\n\n  update() {\n    this.position.x += this.velocity.x\n\n    this.updateHitbox()\n\n    this.checkForHorizontalCollisions()\n    this.applyGravity()\n\n    this.updateHitbox()\n    this.checkForVerticalCollisions()\n  }\n\n  handleInput(keys) {\n    if (this.preventInput) return\n    this.velocity.x = 0\n    if (keys.d.pressed) {\n      this.switchSprite('runRight')\n      this.lastDirection = 'right'\n      this.velocity.x = 5\n    } else if (keys.a.pressed) {\n      this.switchSprite('runLeft')\n      this.lastDirection = 'left'\n      this.velocity.x = -5\n    } else {\n      if (this.lastDirection === 'left') this.switchSprite('idleLeft')\n      else this.switchSprite('idleRight')\n    }\n  }\n\n  switchSprite(name) {\n    if (this.image === this.animations[name].image) return\n    this.currentFrame = 0\n    this.image = this.animations[name].image\n    this.frameRate = this.animations[name].frameRate\n    this.frameBuffer = this.animations[name].frameBuffer\n    this.loop = this.animations[name].loop\n    this.currentAnimation = this.animations[name]\n  }\n\n  updateHitbox() {\n    this.hitbox = {\n      position: {\n        x: this.position.x + 58,\n        y: this.position.y + 34,\n      },\n      width: 50,\n      height: 53,\n    }\n  }\n\n  checkForHorizontalCollisions() {\n    for (let i = 0; i < this.collisionBlocks.length; i++) {\n      const collisionBlock = this.collisionBlocks[i]\n\n      // if a collision exists\n      if (\n        this.hitbox.position.x <=\n          collisionBlock.position.x + collisionBlock.width &&\n        this.hitbox.position.x + this.hitbox.width >=\n          collisionBlock.position.x &&\n        this.hitbox.position.y + this.hitbox.height >=\n          collisionBlock.position.y &&\n        this.hitbox.position.y <=\n          collisionBlock.position.y + collisionBlock.height\n      ) {\n        // collision on x axis going to the left\n        if (this.velocity.x < 0) {\n          const offset = this.hitbox.position.x - this.position.x\n          this.position.x =\n            collisionBlock.position.x + collisionBlock.width - offset + 0.01\n          break\n        }\n\n        if (this.velocity.x > 0) {\n          const offset =\n            this.hitbox.position.x - this.position.x + this.hitbox.width\n          this.position.x = collisionBlock.position.x - offset - 0.01\n          break\n        }\n      }\n    }\n  }\n\n  applyGravity() {\n    this.velocity.y += this.gravity\n    this.position.y += this.velocity.y\n  }\n\n  checkForVerticalCollisions() {\n    for (let i = 0; i < this.collisionBlocks.length; i++) {\n      const collisionBlock = this.collisionBlocks[i]\n\n      // if a collision exists\n      if (\n        this.hitbox.position.x <=\n          collisionBlock.position.x + collisionBlock.width &&\n        this.hitbox.position.x + this.hitbox.width >=\n          collisionBlock.position.x &&\n        this.hitbox.position.y + this.hitbox.height >=\n          collisionBlock.position.y &&\n        this.hitbox.position.y <=\n          collisionBlock.position.y + collisionBlock.height\n      ) {\n        if (this.velocity.y < 0) {\n          this.velocity.y = 0\n          const offset = this.hitbox.position.y - this.position.y\n          this.position.y =\n            collisionBlock.position.y + collisionBlock.height - offset + 0.01\n          break\n        }\n\n        if (this.velocity.y > 0) {\n          this.velocity.y = 0\n          const offset =\n            this.hitbox.position.y - this.position.y + this.hitbox.height\n          this.position.y = collisionBlock.position.y - offset - 0.01\n          break\n        }\n      }\n    }\n  }\n}\n","const canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = 1024\ncanvas.height = 576\n\nexport class Sprite {\n  constructor({\n    position,\n    imageSrc,\n    frameRate = 1,\n    animations,\n    frameBuffer = 2,\n    loop = true,\n    autoplay = true,\n  }) {\n    this.position = position\n    this.image = new Image()\n    this.image.onload = () => {\n      this.loaded = true\n      this.width = this.image.width / this.frameRate\n      this.height = this.image.height\n    }\n    this.image.src = imageSrc\n    this.loaded = false\n    this.frameRate = frameRate\n    this.currentFrame = 0\n    this.elapsedFrames = 0\n    this.frameBuffer = frameBuffer\n    this.animations = animations\n    this.loop = loop\n    this.autoplay = autoplay\n    this.currentAnimation\n\n    if (this.animations) {\n      for (let key in this.animations) {\n        const image = new Image()\n        image.src = this.animations[key].imageSrc\n        this.animations[key].image = image\n      }\n    }\n  }\n\n  draw() {\n    if (!this.loaded) return\n    const cropBox = {\n      position: {\n        x: this.width * this.currentFrame,\n        y: 0,\n      },\n      width: this.width,\n      height: this.height,\n    }\n    c.drawImage(\n      this.image,\n      cropBox.position.x,\n      cropBox.position.y,\n      cropBox.width,\n      cropBox.height,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    )\n\n    this.updateFrames()\n  }\n\n  play() {\n    this.autoplay = true\n  }\n\n  updateFrames() {\n    if (!this.autoplay) return\n\n    this.elapsedFrames++\n\n    if (this.elapsedFrames % this.frameBuffer === 0) {\n      if (this.currentFrame < this.frameRate - 1) this.currentFrame++\n      else if (this.loop) this.currentFrame = 0\n    }\n\n    if (this.currentAnimation?.onComplete) {\n      if (\n        this.currentFrame === this.frameRate - 1 &&\n        !this.currentAnimation.isActive\n      ) {\n        this.currentAnimation.onComplete()\n        this.currentAnimation.isActive = true\n      }\n    }\n  }\n}\n","export const collisionsLevel1 = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 292, 292, 292, 292, 292, 292, 292, 292, 292, 292, 292,\n  292, 292, 292, 0, 0, 292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 292, 0, 0, 292,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 292, 0, 0, 292, 292, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 292, 0, 0, 292, 292, 292, 292, 292, 292, 292, 292, 292, 292, 292,\n  292, 292, 292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n]\n\nexport const collisionsLevel2 = [\n  292, 292, 292, 292, 292, 292, 292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 292, 0, 0, 0, 0,\n  0, 292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 292, 0, 0, 0, 0, 0, 292, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 292, 292, 292, 292, 0, 0, 292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  292, 0, 0, 292, 0, 0, 292, 292, 292, 292, 292, 292, 0, 0, 292, 292, 292, 0, 0,\n  292, 292, 292, 292, 0, 0, 0, 0, 292, 0, 0, 292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 292, 0, 0, 292, 0, 0, 0, 0, 0, 0, 0, 0, 292, 292, 292, 292, 292, 0, 0,\n  292, 292, 292, 292, 292, 292, 292, 292, 292, 292, 292, 0, 0, 0, 0,\n]\n\nexport const collisionsLevel3 = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 250, 250, 250, 250, 250,\n  250, 250, 250, 250, 250, 250, 250, 250, 250, 0, 0, 250, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 250, 0, 0, 250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 250, 0, 0,\n  250, 0, 0, 0, 0, 0, 0, 0, 0, 250, 250, 250, 250, 250, 0, 0, 250, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 250, 0, 0, 0, 250, 250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 250,\n  250, 0, 0, 0, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n]\n","import { doors, player } from '../multiroom'\n\nexport const keys = {\n  w: {\n    pressed: false,\n  },\n  a: {\n    pressed: false,\n  },\n  d: {\n    pressed: false,\n  },\n}\n\naddEventListener('keydown', ({ key }) => {\n  if (player.preventInput) return\n  switch (key) {\n    case 'w':\n      for (let i = 0; i < doors.length; i++) {\n        const door = doors[i]\n        if (\n          player.hitbox.position.x + player.hitbox.width <=\n            door.position.x + door.width &&\n          player.hitbox.position.x >= door.position.x &&\n          player.hitbox.position.y + player.hitbox.height >= door.position.y &&\n          player.hitbox.position.y <= door.position.y + door.height\n        ) {\n          player.velocity.x = 0\n          player.preventInput = true\n          player.switchSprite('enterDoor')\n          door.play()\n          return\n        }\n      }\n      if (player.velocity.y === 0) player.velocity.y = -20\n      break\n    case 'a':\n      keys.a.pressed = true\n      break\n    case 'd':\n      keys.d.pressed = true\n      break\n  }\n})\n\naddEventListener('keyup', ({ key }) => {\n  switch (key) {\n    case 'a':\n      keys.a.pressed = false\n      break\n    case 'd':\n      keys.d.pressed = false\n      break\n  }\n})\n","import { CollisionBlock } from './CollisionBlock'\n\nArray.prototype.parse2D = function () {\n  const rows = []\n  for (let i = 0; i < this.length; i += 16) {\n    rows.push(this.slice(i, i + 16))\n  }\n\n  return rows\n}\n\nArray.prototype.createObjectsFrom2D = function () {\n  const objects = []\n  this.forEach((row, y) => {\n    row.forEach((symbol, x) => {\n      if (symbol === 292 || symbol === 250) {\n        // push a new collision into collisionblocks array\n        objects.push(\n          new CollisionBlock({\n            position: {\n              x: x * 64,\n              y: y * 64,\n            },\n          })\n        )\n      }\n    })\n  })\n\n  return objects\n}\n"],"sourceRoot":""}